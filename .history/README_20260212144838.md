# Mini Blog - Symfony 7.4

Un blog complet dÃ©veloppÃ© avec Symfony 7.4, incluant un systÃ¨me de gestion d'articles, de commentaires et d'utilisateurs.

## FonctionnalitÃ©s

### Pour les visiteurs
- Consultation de la page d'accueil avec la liste des articles
- Lecture des articles complets
- Visualisation des commentaires approuvÃ©s
- Inscription au site

### Pour les utilisateurs connectÃ©s
- Toutes les fonctionnalitÃ©s des visiteurs
- Ajout de commentaires sur les articles (soumis Ã  modÃ©ration)
- Profil personnel

### Pour les administrateurs
- **Gestion des articles** : CrÃ©ation, modification et suppression d'articles
- **Gestion des catÃ©gories** : CrÃ©ation, modification et suppression de catÃ©gories
- **Gestion des utilisateurs** : Validation/dÃ©sactivation des comptes utilisateurs, promotion en administrateur
- **ModÃ©ration des commentaires** : Approbation ou rejet des commentaires
- **Dashboard** : Vue d'ensemble des statistiques du blog

## Technologies utilisÃ©es

- **Framework** : Symfony 7.4 (LTS)
- **Base de donnÃ©es** : MySQL 8.0
- **Frontend** : Bootstrap 5.3 avec Bootstrap Icons
- **Authentification** : Symfony Security Component
- **ORM** : Doctrine
- **Gestion BDD** : phpMyAdmin

## Installation

### PrÃ©requis
- PHP 8.2 ou supÃ©rieur
- Composer
- Symfony CLI (optionnel mais recommandÃ©)

### Installation locale

1. **Cloner le dÃ©pÃ´t**
```bash
git clone <repository-url>
cd mini_blog
```

2. **Installer les dÃ©pendances**
```bash
composer install
```

3. **Configurer la base de donnÃ©es**
```bash
# La base de donnÃ©es SQLite sera crÃ©Ã©e automatiquement
php bin/console doctrine:migrations:migrate
```

4. **Charger les donnÃ©es de test** (optionnel)
```bash
php bin/console doctrine:fixtures:load
```

Cela crÃ©era :
- Un administrateur : `admin@blog.com` / `admin123`
- Un utilisateur : `user@blog.com` / `user123`
- Un utilisateur en attente : `pending@blog.com` / `pending123`
- 5 articles avec catÃ©gories
- Plusieurs commentaires de test

5. **DÃ©marrer le serveur**
```bash
# Avec Symfony CLI
symfony server:start

# Ou avec le serveur PHP intÃ©grÃ©
php -S localhost:8000 -t public/
```

6. **AccÃ©der Ã  l'application**
- Site public : `http://localhost:8000`
- Administration : `http://localhost:8000/admin` (aprÃ¨s connexion avec admin@blog.com)

## ğŸ³ Installation avec Docker

### PrÃ©requis
- Docker
- Docker Compose

### DÃ©marrage avec Docker

1. **Construire et dÃ©marrer les conteneurs**
```bash
docker-compose up -d --build
```

2. **Installer les dÃ©pendances**
```bash
docker-compose exec php composer install
```

3. **CrÃ©er la base de donnÃ©es et exÃ©cuter les migrations**
```bash
docker-compose exec php php bin/console doctrine:migrations:migrate
```

4. **Charger les donnÃ©es de test** (optionnel)
```bash
docker-compose exec php php bin/console doctrine:fixtures:load
```

5. **AccÃ©der Ã  l'application**
- Site : `http://localhost:8080`
- Administration : `http://localhost:8080/admin`

### ArrÃªter les conteneurs
```bash
docker-compose down
```

### Supprimer les conteneurs et volumes
```bash
docker-compose down -v
```

## ğŸ“ Structure du projet

```
mini_blog/
â”œâ”€â”€ config/             # Configuration Symfony
â”œâ”€â”€ migrations/         # Migrations de base de donnÃ©es
â”œâ”€â”€ public/            # Point d'entrÃ©e web
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ Controller/    # ContrÃ´leurs
â”‚   â”‚   â”œâ”€â”€ Admin/    # ContrÃ´leurs admin
â”‚   â”‚   â”œâ”€â”€ HomeController.php
â”‚   â”‚   â”œâ”€â”€ PostController.php
â”‚   â”‚   â”œâ”€â”€ RegistrationController.php
â”‚   â”‚   â””â”€â”€ SecurityController.php
â”‚   â”œâ”€â”€ Entity/       # EntitÃ©s Doctrine
â”‚   â”œâ”€â”€ Form/         # Formulaires
â”‚   â”œâ”€â”€ Repository/   # Repositories Doctrine
â”‚   â”œâ”€â”€ Security/     # Classes de sÃ©curitÃ©
â”‚   â””â”€â”€ DataFixtures/ # DonnÃ©es de test
â”œâ”€â”€ templates/        # Templates Twig
â”‚   â”œâ”€â”€ admin/       # Templates admin
â”‚   â”œâ”€â”€ home/        # Templates publics
â”‚   â”œâ”€â”€ post/
â”‚   â”œâ”€â”€ registration/
â”‚   â””â”€â”€ security/
â”œâ”€â”€ var/             # Fichiers gÃ©nÃ©rÃ©s (cache, logs, db)
â”œâ”€â”€ docker/          # Configuration Docker
â”œâ”€â”€ Dockerfile       # Image Docker PHP
â”œâ”€â”€ docker-compose.yml
â””â”€â”€ README.md
```

## ğŸ” Comptes de test

AprÃ¨s avoir chargÃ© les fixtures :

| Email | Mot de passe | RÃ´le | Statut |
|-------|--------------|------|--------|
| admin@blog.com | admin123 | ROLE_ADMIN | Actif |
| user@blog.com | user123 | ROLE_USER | Actif |
| pending@blog.com | pending123 | ROLE_USER | Inactif |

## ğŸ¨ ThÃ¨me et Design

L'application utilise Bootstrap 5.3 pour un design moderne et responsive :
- Navigation responsive avec dropdown pour l'administration
- Cards pour l'affichage des articles
- Formulaires stylisÃ©s
- Messages flash colorÃ©s
- Dashboard avec statistiques visuelles
- Interface d'administration intuitive

## ğŸ“ FonctionnalitÃ©s de sÃ©curitÃ©

- âœ… Protection CSRF sur tous les formulaires
- âœ… Hashage sÃ©curisÃ© des mots de passe (bcrypt automatique)
- âœ… Validation des comptes par un administrateur
- âœ… ContrÃ´le d'accÃ¨s basÃ© sur les rÃ´les (ROLE_USER, ROLE_ADMIN)
- âœ… Protection des routes d'administration
- âœ… ModÃ©ration des commentaires avant publication

## ğŸ§ª Tests

Pour tester l'application :

1. **AccÃ¨s public** : Visitez la page d'accueil et consultez les articles
2. **Inscription** : CrÃ©ez un nouveau compte (il sera en attente de validation)
3. **Connexion utilisateur** : Connectez-vous avec `user@blog.com` / `user123`
4. **Ajout de commentaire** : Ajoutez un commentaire sur un article
5. **Connexion admin** : Connectez-vous avec `admin@blog.com` / `admin123`
6. **Dashboard admin** : Consultez les statistiques
7. **Gestion des utilisateurs** : Activez le compte en attente
8. **ModÃ©ration** : Approuvez ou rejetez les commentaires
9. **Gestion du contenu** : CrÃ©ez, modifiez ou supprimez des articles et catÃ©gories

## ğŸš€ DÃ©ploiement

Pour un dÃ©ploiement en production :

1. Modifier `.env` avec les variables d'environnement de production
2. Utiliser une base de donnÃ©es MySQL ou PostgreSQL
3. Configurer un serveur web (Nginx/Apache)
4. Activer le cache de production
5. Configurer HTTPS
6. Utiliser Docker pour un dÃ©ploiement containerisÃ©

## ğŸ“„ Licence

Ce projet a Ã©tÃ© crÃ©Ã© dans un cadre Ã©ducatif.

## ğŸ‘¨â€ğŸ’» Auteur

DÃ©veloppÃ© avec â¤ï¸ en utilisant Symfony 7.4
